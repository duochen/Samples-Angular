<h2>Create Stock Form</h2>

<div class="form-group">
    <form (ngSubmit)="createStock(stockForm)" #stockForm="ngForm">
        <div class="stock-name">
            <input type="text" placeholder="Stock Name" 
                   name="stockName"            
                   required
                   #stockName="ngModel"
                   [(ngModel)]="stock.name">
        </div>
        <div *ngIf="stockName.errors && stockName.errors.required">
            Stock Name is Mandatory
        </div>
        <div class="stock-code">
                <input type="text" placeholder="Stock Code" 
                       name="stockCode"
                       required
                       minlength="2" 
                       #stockCode="ngModel"
                       [(ngModel)]="stock.code">
        </div>
        <div *ngIf="stockCode.errors">
                <div *ngIf="stockCode.errors.required">
                        Stock Code is Mandatory
                </div>
                <div *ngIf="stockCode.errors.minlength">
                        Stock Code must be at least of length 2
                </div>        
        </div>

        <div class="stock-price">
                <input type="number" 
                       placeholder="Stock Price" 
                       name="stockPrice"
                       required
                       #stockPrice="ngModel"
                       [ngModel]="stock.price"
                       (ngModelChange)="setStockePrice($event)"
                       >
        </div>        
        <div *ngIf="stockPrice.errors">
            <div *ngIf="stockPrice.errors.Required">
                Stock Price is Mandatory
            </div>
        </div>
        <!-- <div class="stock-exchange">
                <input type="radio" name="stockexchange"
                    [(ngModel)]="stock.exchange" value="NYSE">NYSE
                <input type="radio" name="stockexchange"
                    [(ngModel)]="stock.exchange" value="NASDAQ">NASDAQ                       
                <input type="radio" name="stockexchange"
                    [(ngModel)]="stock.exchange" value="OTHER">OTHER
        </div>         -->
        <select name="stockexchange" [(ngModel)]="stock.exchange">
                <option *ngFor="let exchange of exchanges"
                        [ngValue]="exchange"
                    >{{ exchange}}</option>
        </select>                
        <div class="stock-confirm">
            <input type="checkbox" 
                   name="stockConfirm" 
                   required
                   [(ngModel)]="confirmed">
            I confirm that the information provided above is accurate!
        </div>
        <button type='submit'>Create</button>
    </form>
</div>

<h4>Stock Name is {{ stock | json }}</h4>